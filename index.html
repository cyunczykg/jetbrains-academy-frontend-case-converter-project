<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Case Converter</title>
    <script>
        function uppercase() {
            document.getElementById("myTextarea").value = document.getElementById("myTextarea").value.toUpperCase();
        }
        function lowercase() {
            document.getElementById("myTextarea").value = document.getElementById("myTextarea").value.toLowerCase();
        }
        function propercase() {
            document.getElementById("myTextarea").value = document.getElementById("myTextarea").value.split(' ').map(w => w[0].toUpperCase() + w.substr(1).toLowerCase()).join(' ');
        }
        function sentencecase() {
            let valueOfTextArea= document.getElementById("myTextarea").value.toLowerCase();
            let sentences = valueOfTextArea.split('. ');
            sentences.forEach(Capitalizer);
            function Capitalizer(value, index) {
                sentences[index] = capitalizer(value);
            }
            function capitalizer(sentence) {
                return sentence[0].toUpperCase() + sentence.slice(1);
            }
            let textAfterConvertion = sentences.join('. ');
            document.getElementById("myTextarea").value = textAfterConvertion;
            /*temp_arr = document.getElementById("myTextarea").value.split('.');
            for (i = 0; i < temp_arr.length; i++) {
                temp_arr[i]=temp_arr[i].trim()
                temp_arr[i] = temp_arr[i].charAt(0).toUpperCase() + temp_arr[i].substr(1).toLowerCase();
            }
            let str=temp_arr.join('.');
            // document.getElementById("myTextarea").value = str.slice(0, -1);
            document.getElementById("myTextarea").value = str;*/

        }
        function downloadasfile() {
            download("text.txt",document.getElementById("myTextarea").value);
        }
        function download(filename, text) {
            let element = document.createElement('a');
            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
            element.setAttribute('download', filename);

            element.style.display = 'none';
            document.body.appendChild(element);

            element.click();

            document.body.removeChild(element);
        }
    </script>
</head>
<body>
    <div class="title"><h1>Case Converter</h1></div>
    <div><textarea id="myTextarea"></textarea></div>
    <div><button id="upper-case" type="button" onclick="uppercase()">Upper Case</button></div>
    <div><button id="lower-case" type="button" onclick="lowercase()">Lower Case</button></div>
    <div><button id="proper-case" type="button" onclick="propercase()">Proper Case</button></div>
    <div><button id="sentence-case" type="button" onclick="sentencecase()">Sentence Case</button></div>
    <div><button id="save-text-file" type="button" onclick=downloadasfile()>Save Text File</button></div>
</body>
</html>
